<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grimorio Digital - Vaelthir Aethermoor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-top">
                <div class="avatar">‚ú®</div>
                <div class="character-info">
                    <h1 id="charName">Vaelthir Aethermoor</h1>
                    <p id="charClass">Elfo Mago - Nivel <span id="charLevelDisplay">6</span></p>
                </div>
            </div>
            
            <div class="quick-stats">
                <div class="stat-box">
                    <div class="stat-label">‚ù§Ô∏è PG</div>
                    <div class="stat-value" id="hpDisplay">32/32</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">üõ°Ô∏è CA</div>
                    <div class="stat-value" id="acDisplay">13</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">‚ö° Iniciativa</div>
                    <div class="stat-value" id="initDisplay">+3</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">‚öîÔ∏è Ataque Base</div>
                    <div class="stat-value" id="baseAttackDisplay">+3</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">üåü Experiencia</div>
                    <div class="stat-value" style="font-size: 1.2rem;" id="xpDisplay">15000 / 21000</div>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <button class="btn btn-primary" onclick="saveAllData()">üíæ Guardar Todo</button>
            <div id="saveMessage" style="display: none;"></div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('stats')">Estad√≠sticas</button>
            <button class="tab" onclick="switchTab('combat')">Combate</button>
            <button class="tab" onclick="switchTab('skills')">Habilidades</button>
            <button class="tab" onclick="switchTab('spells')">Hechizos</button>
            <button class="tab" onclick="switchTab('feats')">Dotes</button>
            <button class="tab" onclick="switchTab('equipment')">Equipo</button>
            <button class="tab" onclick="switchTab('languages')">Idiomas</button>
            <button class="tab" onclick="switchTab('wealth')">Riquezas</button>
        </div>

        <!-- Stats Tab -->
        <div id="statsTab" class="tab-content active">
            <div class="grid-2">
                <div class="card">
                    <h2 class="card-title">‚≠ê Caracter√≠sticas</h2>
                    <div id="statsContainer"></div>
                    
                    <div class="hp-editor">
                        <span style="color: #5eead4; font-weight: bold;">PG:</span>
                        <input type="number" class="input" id="hpCurrent" onchange="updateHP()">
                        <span style="color: #5eead4;">/</span>
                        <input type="number" class="input" id="hpMax" onchange="updateHP()">
                        <div class="hp-bar">
                            <div class="hp-fill" id="hpBar" style="width: 100%;"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">üõ°Ô∏è Salvaciones</h2>
                    <div id="savesContainer"></div>
                    
                    <div style="margin-top: 20px;">
                        <h3 style="color: #fbbf24; margin-bottom: 10px;">üìñ Especializaci√≥n</h3>
                        <input type="text" class="input input-wide" id="specialization" placeholder="Escuela de especializaci√≥n">
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h3 style="color: #ef4444; margin-bottom: 10px;">üåô Escuelas Prohibidas</h3>
                        <textarea class="textarea" id="prohibitedSchools" placeholder="Escribe las escuelas prohibidas separadas por comas"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Combat Tab -->
        <div id="combatTab" class="tab-content">
            <div class="grid-3">
                <div class="card">
                    <h2 class="card-title">‚öîÔ∏è Combate</h2>
                    <div class="form-group">
                        <label class="form-label">Ataque Base</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="number" class="input" id="baseAttack" readonly style="cursor: not-allowed; opacity: 0.7; width: 80px;">
                            <span style="color: #5eead4;">+</span>
                            <input type="number" class="input" id="baseAttackMod" placeholder="Mod" style="width: 80px;" onchange="calculateCombatStats()">
                        </div>
                        <small style="color: #5eead4; font-size: 0.85rem;">Base (auto) + Modificador temporal</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Clase de Armadura (CA)</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="number" class="input" id="ac" readonly style="cursor: not-allowed; opacity: 0.7; width: 80px;">
                            <span style="color: #5eead4;">+</span>
                            <input type="number" class="input" id="acMod" placeholder="Mod" style="width: 80px;" onchange="calculateCombatStats()">
                        </div>
                        <small style="color: #5eead4; font-size: 0.85rem;">10 + Mod DES + Modificador temporal</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Iniciativa</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="number" class="input" id="initiative" readonly style="cursor: not-allowed; opacity: 0.7; width: 80px;">
                            <span style="color: #5eead4;">+</span>
                            <input type="number" class="input" id="initiativeMod" placeholder="Mod" style="width: 80px;" onchange="calculateCombatStats()">
                        </div>
                        <small style="color: #5eead4; font-size: 0.85rem;">Mod DES + Modificador temporal</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Velocidad</label>
                        <input type="text" class="input input-wide" id="speed" placeholder="ej: 30'">
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">üõ°Ô∏è Resistencias</h2>
                    <div class="form-group">
                        <label class="form-label">Resistencia a Conjuros</label>
                        <input type="number" class="input input-wide" id="spellResistance">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Reducci√≥n del Da√±o</label>
                        <input type="text" class="input input-wide" id="damageReduction" placeholder="ej: 5/m√°gico">
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">üìä Experiencia</h2>
                    <div class="form-group">
                        <label class="form-label">XP Actual</label>
                        <input type="number" class="input input-wide" id="currentXP" onchange="calculateLevel()">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nivel Actual</label>
                        <input type="number" class="input input-wide" id="currentLevel" readonly style="cursor: not-allowed; opacity: 0.7;">
                        <small style="color: #5eead4; font-size: 0.85rem;">Calculado autom√°ticamente</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label">XP para Siguiente Nivel</label>
                        <input type="number" class="input input-wide" id="nextLevelXP" readonly style="cursor: not-allowed; opacity: 0.7;">
                        <small style="color: #5eead4; font-size: 0.85rem;">Calculado autom√°ticamente</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Skills Tab -->
        <div id="skillsTab" class="tab-content">
            <div class="card">
                <h2 class="card-title">üéØ Habilidades</h2>
                <button class="btn btn-secondary btn-small" onclick="addSkill()" style="margin-bottom: 15px;">+ Agregar Habilidad</button>
                <div id="skillsContainer" class="item-list"></div>
            </div>
        </div>

        <!-- Spells Tab -->
        <div id="spellsTab" class="tab-content">
            <div class="card">
                <div id="spellsContainer"></div>
            </div>
        </div>

        <!-- Feats Tab -->
        <div id="featsTab" class="tab-content">
            <div class="card">
                <h2 class="card-title">‚ö° Dotes</h2>
                <button class="btn btn-secondary btn-small" onclick="addFeat()" style="margin-bottom: 15px;">+ Agregar Dote</button>
                <div id="featsContainer" class="item-list"></div>
            </div>
        </div>

        <!-- Equipment Tab -->
        <div id="equipmentTab" class="tab-content">
            <div class="card">
                <h2 class="card-title">üéí Equipo y Pertenencias</h2>
                <button class="btn btn-secondary btn-small" onclick="addItem()" style="margin-bottom: 15px;">+ Agregar Objeto</button>
                <div id="equipmentContainer" class="item-list"></div>
            </div>
        </div>

        <!-- Languages Tab -->
        <div id="languagesTab" class="tab-content">
            <div class="card">
                <h2 class="card-title">üó£Ô∏è Idiomas</h2>
                <textarea class="textarea" id="languages" placeholder="Escribe los idiomas separados por comas (ej: √âlfico, Com√∫n, Drag√≥nico)"></textarea>
            </div>
        </div>

        <!-- Wealth Tab -->
        <div id="wealthTab" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h2 class="card-title">üí∞ Monedas</h2>
                    <div class="form-group">
                        <label class="form-label">Oro (PO)</label>
                        <input type="number" class="input input-wide" id="gold">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Plata (PP)</label>
                        <input type="number" class="input input-wide" id="silver">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cobre (PC)</label>
                        <input type="number" class="input input-wide" id="copper">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Platino (PPT)</label>
                        <input type="number" class="input input-wide" id="platinum">
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">üíé Otros Tesoros</h2>
                    <textarea class="textarea" id="treasures" placeholder="Gemas, arte, objetos valiosos..."></textarea>
                </div>
            </div>
        </div>

        <div class="footer">
            "El conocimiento arcano es la llave que abre las puertas entre los planos"
        </div>
    </div>

    <script src="character-data.js"></script>
    <script src="app.js"></script>
</body>
</html>